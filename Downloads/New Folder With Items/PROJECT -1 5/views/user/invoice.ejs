<!DOCTYPE html>
<html>
<head>
    <title>So</title>
    <link rel="stylesheet" href="/public/css/style.css">
</head>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #ffffff;
}

.invoice-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ffffff;
    border-radius: 0px;
    background-color: #ffffff;
    box-shadow: 0 0 10px rgb(255, 255, 255);
}

.invoice-details {
    margin-bottom: 20px;
}

.services-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    border-color: #000000;
}


.services-table td {
    padding: 15px;
    border: 1px solid #000000;
    text-align: left;
}

.services-table th {
    text-align: left;
    border: 1px solid #000000;
    padding: 15px;
    background-color: #ff0000;
    color: #000000;
}

.services-table td {
    background-color: #ffffff;
    
}

.total-amount {
    font-weight: bold;
}

.payment-details {
    margin-top: 20px;
    border-top: 1px solid #ddd;
    padding-top: 20px;
}

#img {
    width: 29%;
    margin-left: 70%;
}
#qr{
    width: 10%;
    margin-top: -7%;
}

.head {
    background-color: #444;
}

.invoice-container a {
    color: #007bff;
    text-decoration: none;
}

.invoice-container a:hover {
    text-decoration: underline;
}

</style>
<body>
    <div class="invoice-container">
        <img src="/public/images/logo.jpg" id="img" alt=""> 
        <img id="qr" src="/public/images/qr.jpg" alt="QR Code">

        <div class="payment-details"></div>
        <div class="invoice-details">
            <p>Address: Kinfra Techno Industrial Park
                Thenhipalam, Kerala Â·9207904611</p>
            <p>Website: <a href="bespoke.online">bespoke.online</a></p>
            <p>email : bespokeshopping07@gmail.com</p>
            <p>Phone: 9207904611</p>
            <p>Invoice to: <%= order.user.name %> </p>
            <p>Invoice no: 2023001</p>
            <p>Date: <%= date %></p>
        </div>
       
        <table class="services-table">
       
            <thead class="">
                <div style="background-color: #000000;">
  
                    <p style="color: rgb(0, 0, 0);">ORDER : #<%= order._id %> <span style="padding-left: 32%;">Mode Of Payment : <%= order.paymentMethod %></span></p>
                </div>
                <tr class="head">
                    <th>Item Details</th>
                    <th>Item Qty</th>
                    <th>PRICE</th>
                    <th>TOTAL</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><%= product.name %></td>
                    <td><%= product.quantity %></td>
                    <td><%= product.price %></td>
                    <td><%= product.price * product.quantity %></td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">Subtotal:</td>
                    <td><%= product.price * product.quantity %></td>
                </tr>
                <tr>
                    <td colspan="3">Tax (@X%):</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td colspan="3" class="total-amount">Total</td>
                    <td><%= product.price * product.quantity %></td>
                </tr>
            </tfoot>
        </table>
        <div class="payment-details">
            <% order.deliveryDetails.forEach((address)=>{ %>
                <p>Recipient Address: <%= address.fname %></p>
                <p><%= address.mobile %></p>
                <p><%= address.email %></p>
                <p><%= address.address %></p>
                <p><%= address.city %>, <%= address.pin %> </p>
           <% }) %>
           <p>Terms & Conditions: Payment is due upon completion of services unless otherwise agreed upon in writing.</p>
           <p>Thank yss.</p>
        </div>
    </div>
</body>
<script>
    function numberToWords(number) {
    const units = ["", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen"];
    const tens = ["", "", "twenty", "thirty", "forty", "fifty", "sixty", "seventy", "eighty", "ninety"];
    const scales = ["", "thousand", "million", "billion"];

    if (number === 0) {
        return "zero";
    }

    let words = "";
    let scaleIndex = 0;

    while (number > 0) {
        const part = number % 1000;

        if (part !== 0) {
            let partWords = "";

            if (part % 100 < 20) {
                partWords = units[part % 100];
                part = Math.floor(part / 100);
            } else {
                partWords = tens[Math.floor((part % 100) / 10)] + " " + units[part % 10];
                part = Math.floor(part / 100);
            }

            if (part > 0) {
                partWords = units[part] + " hundred " + partWords;
            }

            words = partWords + (scales[scaleIndex] ? " " + scales[scaleIndex] + " " : "") + words;
        }

        number = Math.floor(number / 1000);
        scaleIndex++;
    }

    return words.trim();
}

</script>
</html>
